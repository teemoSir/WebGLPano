/*!
 * uEvent - to make any js object an event emitter
 * Copyright 2011 Jerome Etienne (http://jetienne.com)
 * Copyright 2015-2016 Damien "Mistic" Sorel (http://www.strangeplanet.fr)
 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */
(function(k,e){"undefined"!==typeof module&&module.exports?module.exports=e():"function"===typeof define&&define.amd?define([],e):k.uEvent=e()})(this,function(){var k=function(){return!0},e=function(){return!1},g=function(){};g.Event=function(a,c){Object.defineProperties(this,{type:{get:function(){return a},set:function(a){},enumerable:!0},args:{get:function(){return c},set:function(a){},enumerable:!0}})};g.Event.prototype={constructor:g.Event,isDefaultPrevented:e,isPropagationStopped:e,preventDefault:function(){this.isDefaultPrevented=k},stopPropagation:function(){this.isPropagationStopped=k}};g.prototype={constructor:g,on:function(a,c){this.__events=this.__events||{};if("object"===typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.__events[b]=this.__events[b]||[],this.__events[b].push(a[b]));else a.split(" ").forEach(function(a){this.__events[a]=this.__events[a]||[];this.__events[a].push(c)},this);return this},off:function(a,c){this.__events=this.__events||{};if("object"===typeof a)for(var b in a){if(a.hasOwnProperty(b)&&b in this.__events){var d=this.__events[b].indexOf(a[b]);-1!==d&&this.__events[b].splice(d,1)}}else a?a.split(" ").forEach(function(a){if(a in this.__events)if(c){var b=this.__events[a].indexOf(c);-1!==b&&this.__events[a].splice(b,1)}else this.__events[a].length=0},this):this.__events={};return this},once:function(a,c){this.__once=this.__once||{};if("object"===typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.__once[b]=this.__once[b]||[],this.__once[b].push(a[b]));else a.split(" ").forEach(function(a){this.__once[a]=this.__once[a]||[];this.__once[a].push(c)},this);return this},trigger:function(a){var c=Array.prototype.slice.call(arguments,1),b=new g.Event(a,c),d,h,f;c.push(b);if(this.__events&&a in this.__events)for(d=0,h=this.__events[a].length;d<h;d++)if(f=this.__events[a][d],"object"===typeof f?f.handleEvent(b):f.apply(this,c),b.isPropagationStopped())return b;if(this.__once&&a in this.__once){d=0;for(h=this.__once[a].length;d<h;d++)if(f=this.__once[a][d],"object"===typeof f?f.handleEvent(b):f.apply(this,c),b.isPropagationStopped())return delete this.__once[a],b;delete this.__once[a]}return b},change:function(a,c){var b=Array.prototype.slice.call(arguments,1),d=new g.Event(a,b),h,f,e;b.push(d);if(this.__events&&a in this.__events)for(h=0,f=this.__events[a].length;h<f&&(b[0]=c,e=this.__events[a][h],c="object"===typeof e?e.handleEvent(d):e.apply(this,b),!d.isPropagationStopped());h++);return c}};g.mixin=function(a,c){c=c||{};a="function"===typeof a?a.prototype:a;["on","off","once","trigger","change"].forEach(function(b){a[c[b]||b]=g.prototype[b]});Object.defineProperties(a,{__events:{value:null,writable:!0},__once:{value:null,writable:!0}})};return g});